{
  "require": {
    "squizlabs/php_codesniffer": "^3.9",
    "phpcompatibility/php-compatibility": "^9.3",
    "phpcompatibility/phpcompatibility-wp": "^2.1",
    "wp-coding-standards/wpcs": "^3.0"
  },
  "extra": {
    "strauss": {
      "target_directory": "vendor",
      "namespace_prefix": "BrightleafDigitalPhpChecker\\",
      "classmap_prefix": "BrightleafDigitalPhpChecker_",
      "constant_prefix": "BRIGHTLEAF_DIGITAL_PHP_CHECKER_"
    }
  },
  "scripts": {
    "prefix-namespaces": [
      "@php -r \"if (!file_exists('bin')) { mkdir('bin', 0755, true); }\"",
      "@php -r \"if (!file_exists('bin/strauss.phar')) { file_put_contents('bin/strauss.phar', file_get_contents('https://github.com/BrianHenryIE/strauss/releases/download/0.21.1/strauss.phar')); }\"",
      "@php bin/strauss.phar",
      "@composer dump-autoload"
    ],
    "cleanup-vendor": [
      "@php -r \"\\$files = array('vendor/squizlabs/php_codesniffer/tests/EndToEnd/phpcs_test.sh','vendor/squizlabs/php_codesniffer/tests/EndToEnd/phpcbf_test.sh'); foreach (\\$files as \\$f) { if (file_exists(\\$f)) { @unlink(\\$f); } }\"",
      "@php -r \"function rr(\\$d,\\$exts){\\$it=new RecursiveIteratorIterator(new RecursiveDirectoryIterator(\\$d,FilesystemIterator::SKIP_DOTS));foreach(\\$it as \\$fi){if(\\$fi->isFile()){ \\$n=\\$fi->getFilename(); foreach(\\$exts as \\$e){ if (substr(\\$n,-strlen(\\$e))===\\$e){ @unlink(\\$fi->getPathname()); } } } }} rr('vendor',array('.sh','.bat','.cmd','.ps1'));\""
    ],
    "post-install-cmd": [
      "@prefix-namespaces",
      "@cleanup-vendor"
    ],
    "post-update-cmd": [
      "@prefix-namespaces",
      "@cleanup-vendor"
    ]
  },
  "config": {
    "allow-plugins": {
      "dealerdirect/phpcodesniffer-composer-installer": true
    }
  }
}
